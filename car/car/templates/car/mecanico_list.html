{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/centralized-colors.css' %}">
  <style>
    .container {
      background: var(--bg-card);
      border-radius: var(--border-radius-lg);
      padding: var(--spacing-lg);
      box-shadow: var(--shadow-md);
    }
    
    .table {
      color: var(--text-primary);
    }
    
    .table th {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: none;
      font-weight: 600;
    }
    
    .table td {
      border-color: var(--border-color);
      vertical-align: middle;
    }
    
    .btn {
      border-radius: var(--border-radius-sm);
      font-weight: 500;
    }
    
    .btn-primary {
      background: var(--primary-600);
      border-color: var(--primary-600);
    }
    
    .btn-primary:hover {
      background: var(--primary-700);
      border-color: var(--primary-700);
    }
    
    .btn-warning {
      background: var(--warning-600);
      border-color: var(--warning-600);
    }
    
    .btn-warning:hover {
      background: var(--warning-700);
      border-color: var(--warning-700);
    }
    
    .btn-danger {
      background: var(--danger-600);
      border-color: var(--danger-600);
    }
    
    .btn-danger:hover {
      background: var(--danger-700);
      border-color: var(--danger-700);
    }
  </style>
{% endblock %}

{% block content %}
<div class="container py-4">
  <h2>üë• Mecanicos</h2>
  <a href="{% url 'mecanico_create' %}" class="btn btn-sm btn-primary mb-3">‚ûï Nuevo Mecanico</a>

  <a href="javascript:history.back()" class="btn btn-sm btn-warning mb-3">‚¨ÖÔ∏è Volver al panel</a>

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Especialidad</th>
        <th>Fecha Ingreso</th>
        <th>Activo</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for mecanico in mecanicos %}
      <tr>
        <td>{{ mecanico.id }}</td>
        <td>{{ mecanico.user.get_full_name }}</td>
        <td>{{ mecanico.especialidad }}</td>
        <td>{{ mecanico.fecha_ingreso }}</td>
        <td>{{ mecanico.activo }}</td>
        <td>
          <a href="{% url 'mecanico_update' mecanico.pk %}" class="btn btn-sm btn-warning">‚úèÔ∏è Editar</a>
          <a href="{% url 'mecanico_delete' mecanico.pk %}" class="btn btn-sm btn-danger" onclick="{% if ver_avisos %}return confirm('¬øEst√°s seguro de eliminar este mec√°nico?');{% else %}return true;{% endif %}">üóëÔ∏è Eliminar</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" class="text-center text-secondary">No hay mecanicos registrados.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
