
{% load static %}

{% block content %}
<head>
<style>
/* Cards y footer */

    .theme-rojo .card {
      color: #0343CE;
      background-color: #F1948A;
      border: 2px solid #444; }
    .theme-rojo footer { background-color: #3a3a3a; color: #bbb; }

    .theme-amarillo .card {
      color: #175e23;
      background-color: #fef9e7;
      border: 2px solid #444; }
    .theme-amarillo footer { background-color: #3a3a3a; color: #bbb; }


    .theme-celeste .card {
      color: #ff8904;
      background-color: #9BCDED;
      border: 2px solid #444; }
    .theme-celeste footer { background-color: #3a3a3a; color: #bbb; }

    .theme-gris .card {
      color: #f8bed8;
      background-color: #555;
      border: 2px solid #444; }
    .theme-gris footer { background-color: #3a3a3a; color: #bbb; }
  
</style>
</head>
<div class="container-fluid mt-4">
  <h2 class="text-center mb-4">ðŸ“‹ Pizarra de Trabajos</h2>

  <div class="row g-3">
    <!-- Iniciado -->
    <div class="col-12 col-md-6">
      <div class="card shadow-sm border-primary h-100">
        <div class="card-header bg-primary text-white fw-bold text-center">
          ðŸš¦ Iniciado
        </div>
        <div class="card-body">
          {% for t in trabajos_iniciado %}
            <div class="d-flex align-items-center mb-3 p-2 border rounded">
              <span style="font-size: 1.8rem;">ðŸš—</span>
              <div class="ms-3 flex-grow-1">
                <strong>{{ t.vehiculo.patente }}</strong> â€” {{ t.vehiculo.cliente.nombre }}<br>
                <small class="text-muted">Estado: {{ t.get_estado_display }}</small>
                <div class="progress mt-1" style="height: 8px;">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: {{ t.porcentaje|default:0 }}%"></div>
                </div>
              </div>
            </div>
          {% empty %}
            <p class="text-muted">No hay trabajos iniciados</p>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Trabajando -->
    <div class="col-12 col-md-6">
      <div class="card shadow-sm border-warning h-100">
        <div class="card-header bg-warning fw-bold text-dark text-center">
          ðŸ”§ Trabajando
        </div>
        <div class="card-body">
          {% for t in trabajos_trabajando %}
            <div class="d-flex align-items-center mb-3 p-2 border rounded">
              <span style="font-size: 1.8rem; color: orange;">ðŸš—</span>
              <div class="ms-3 flex-grow-1">
                <strong>{{ t.vehiculo.patente }}</strong> â€” {{ t.vehiculo.cliente.nombre }}<br>
                <small class="text-muted">Estado: {{ t.get_estado_display }}</small>
                <div class="progress mt-1" style="height: 8px;">
                  <div class="progress-bar bg-warning" role="progressbar" style="width: {{ t.porcentaje|default:0 }}%"></div>
                </div>
              </div>
            </div>
          {% empty %}
            <p class="text-muted">No hay trabajos en curso</p>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Completado -->
    <div class="col-12 col-md-6">
      <div class="card shadow-sm border-success h-100">
        <div class="card-header bg-success text-white fw-bold text-center">
          âœ… Completado
        </div>
        <div class="card-body">
          {% for t in trabajos_completado %}
            <div class="d-flex align-items-center mb-3 p-2 border rounded">
              <span style="font-size: 1.8rem; color: green;">ðŸš—</span>
              <div class="ms-3 flex-grow-1">
                <strong>{{ t.vehiculo.patente }}</strong> â€” {{ t.vehiculo.cliente.nombre }}<br>
                <small class="text-muted">Estado: {{ t.get_estado_display }}</small>
                <div class="progress mt-1" style="height: 8px;">
                  <div class="progress-bar bg-success" role="progressbar" style="width: {{ t.porcentaje|default:100 }}%"></div>
                </div>
              </div>
            </div>
          {% empty %}
            <p class="text-muted">No hay trabajos completados</p>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Entregado -->
    <div class="col-12 col-md-6">
      <div class="card shadow-sm border-dark h-100">
        <div class="card-header bg-dark text-white fw-bold text-center">
          ðŸ“¦ Entregado
        </div>
        <div class="card-body">
          {% for t in trabajos_entregado %}
            <div class="d-flex align-items-center mb-3 p-2 border rounded">
              <span style="font-size: 1.8rem; color: gray;">ðŸš—</span>
              <div class="ms-3 flex-grow-1">
                <strong>{{ t.vehiculo.patente }}</strong> â€” {{ t.vehiculo.cliente.nombre }}<br>
                <small class="text-muted">Estado: {{ t.get_estado_display }}</small>
                <div class="progress mt-1" style="height: 8px;">
                  <div class="progress-bar bg-dark" role="progressbar" style="width: 100%"></div>
                </div>
              </div>
            </div>
          {% empty %}
            <p class="text-muted">No hay trabajos entregados</p>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
